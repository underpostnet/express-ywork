<!DOCTYPE html>

<html dir='ltr'>

<head><meta http-equiv='Content-Type' content='text/html; charset=utf-8'>

  <meta name='description' content='Cyberia 3.0  - UNDERpost.net'>

  <link rel='icon' type='image/png' href='/gfx/favicon.png'>

  <!--

  <link rel='canonical' href='https://'>

  <meta property='og:title' content='Cyberia'>

  <meta property='og:description' content='Cyberia 3.0  - UNDERpost.net'>

  <meta property='og:image' content='https://'>

  <meta property='og:url' content='https://'>

  <meta name='twitter:card' content='summary_large_image'>

-->

<meta name='viewport' content='initial-scale=1.0, maximum-scale=1.0, user-scalable=0'/>

<meta name='viewport' content='width=device-width, user-scalable=no' />

<title>Cyberia 3.0</title>

<style>

*{font-family: Arial; text-decoration: none; font-size: 14px;}

html,body, #st-full-pg {

  position: relative;
  width: 100%;
  height: 100%;
  margin: 0;
  color: white;
  overflow: hidden;
  cursor : url('gfx/dinamic.cur') 0 0, auto;
  background: black;

}

.topBar {

  position: absolute;
  width: 100%;
  height: 5%;

}

.map {

  position: absolute;
  width: 100%;
  height: 90%;
  top: 5%;

}

.botBar {

  position: absolute;
  width: 100%;
  height: 5%;
  top: 95%;

}

</style>

</head>

<body>

  <div class='topBar'></div>

  <div class='map'>

    <canvas id='canvas'  style='border: 0px; width: 100%; height: 100%;'> </canvas>

  </div>

  <div class='botBar'></div>

  <script type='text/javascript'>

  (function(){

    // vanilla

    function random(min, max){

      return Math.floor(Math.random() * (max - min + 1) ) + min;

    }

    function s(div){

      return document.querySelector(div);

    }

    function i(div){

      return document.getElementById(div);

    }

    function w(div){

      var w = document.body.clientWidth;

      var wp = parseFloat((document.querySelector(div).style.width).replace('%', ''))/100;

      var r = w*wp;

      return r;

    }

    function h(div){

      var h = document.body.clientHeight;

      var hp = parseFloat((document.querySelector(div).style.height).replace('%', ''))/100;

      var r = h*hp;

      return r;

    }

    function append(div, html){

      s(div).insertAdjacentHTML('beforeend', html);

    }

    function prepend(div, html){

      s(div).insertAdjacentHTML('afterbegin', html);

    }

    function html(div, html){

      s(div).innerHTML = html;

    }

    function sremove(div){

      s(div).parentNode.removeChild(s(div));

    }

    function iremove(div){

      i(div).parentNode.removeChild(i(div));

    }

    document.onkeydown = function() {

      var key = window.event.keyCode;

      console.log(key);

    };

    //s('.').addEventListener('click', function () { });

    var canvas = document.querySelector('#canvas');

    var ctx = canvas.getContext('2d');

    var d = 1000;

    canvas.width = d;

    canvas.height = d;

    //ctx.fillStyle = 'black';

    //ctx.clearRect(xi, yi, 100, 100);

    //ctx.fillRect(xf, yf, 100, 100);

    var x = 0;

    var y = 0;

    var color = 'red';

    ctx.fillStyle = color

    ctx.fillRect(x, y, 100, 100);

    function down(){

      var time=0;

      for(var i=1; i<=10; i++){

        setTimeout(function(e){

          ctx.clearRect(x, y, 100, 100);

          y = y + 5;

          ctx.fillStyle = color;

          ctx.fillRect(x, y, 100, 100);

        }, time);

        time = time +20;

      }


    }

    function up(){

      var time=0;

      for(var i=1; i<=10; i++){

        setTimeout(function(e){

          ctx.clearRect(x, y, 100, 100);

          y = y - 5;

          ctx.fillStyle = color;

          ctx.fillRect(x, y, 100, 100);

        }, time);

        time = time +20;

      }


    }

    function right(){

      var time=0;

      for(var i=1; i<=10; i++){

        setTimeout(function(e){

          ctx.clearRect(x, y, 100, 100);

          x = x + 5;

          ctx.fillStyle = color;

          ctx.fillRect(x, y, 100, 100);

        }, time);

        time = time +20;

      }

    }

      function left(){

        var time=0;

        for(var i=1; i<=10; i++){

          setTimeout(function(e){

            ctx.clearRect(x, y, 100, 100);

            x = x - 5;

            ctx.fillStyle = color;

            ctx.fillRect(x, y, 100, 100);

          }, time);

          time = time +20;

        }

      }



    document.onkeydown = function() {

      var key = window.event.keyCode;

      //console.log(key);

      if(key==38){

        up();

      }

      if(key==40){

        down();

      }

      if(key==39){

        right();

      }

      if(key==37){

        left();

      }

    };

    // Create WebSocket connection.

    const socket = new WebSocket('wss://ywork.ddns.net/ywork');

    // Connection opened

    socket.addEventListener('open', function (event) {

        socket.send('Hello Server!');

    });

    // Listen for messages

    socket.addEventListener('message', function (event) {

        console.log('Message from server ', event.data);

    });

    document.oncontextmenu = function(){ return false; }

    document.ondragstart = function(){ return false; }

    document.onselectstart = function(){ return false; }

  }());

  </script>

</body>

</html>
